{% extends 'base.html.twig' %}

{% form_theme form 'bootstrap_4_layout.html.twig' %}

{% block body %}
<div class="row">
    <div class="col-md-12">
    <p>
        PHPMatcher is a simple php library created to match values against patterns. It's mostly used for API's functional
        tests where response needs to be compared against patterns with placeholders for variables.
    </p>
    <p>
        This website is a sandbox for the library, give it a try:
    </p>
    </div>
</div>

{% if match is not null %}
    {% if match %}
        <div class="alert alert-success" role="alert">
            Value matches pattern!!
        </div>
    {% else %}
        <div class="alert alert-danger" role="alert">
            Value does not match pattern. <br/>
            <code>
                {{ matcher.error }}
            </code>
        </div>
    {% endif %}
{% endif %}

{{ form_start(form) }}
<div class="row">
    <div class="col-md-6">
        <h5>Value</h5>
        {{ form_row(form.value, {label: false}) }}
    </div>
    <div class="col-md-6">
        <h5>Pattern</h5>
        {{ form_row(form.pattern, {label: false}) }}
    </div>
</div>
<div class="row">
    <div class="col-md-4">
    <div class="form-group">
        {{ form_widget(form.match) }}
        <a class="btn-secondary btn" href="{{ url('home') }}">Reset</a>
    </div>
    </div>
</div>
{{ form_end(form) }}

<h3>Programming Languages</h3>
<ul>
    <li><a href="https://github.com/coduo/php-matcher" target="_blank">PHP - php-matcher</a></li>
    <li><a href="https://github.com/defrag/NMatcher" target="_blank">.NET - NMatcher</a></li>
</ul>

{% if match is not null %}
<h3>Backtrace</h3>
<div class="row">
    <div class="col-md-12">
        <pre class="alert alert-secondary"><code>{{ matcher.backtrace }}</code></pre>
    </div>
</div>
{% endif %}

{% endblock %}